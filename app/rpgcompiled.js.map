{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "app/ts/AssetLoader.ts",
    "app/ts/Character/Creature.ts",
    "app/ts/Character/CreatureStats.ts",
    "app/ts/Character/Display/DisplayCharacter.ts",
    "app/ts/Character/Display/IWorldObject.ts",
    "app/ts/Character/Display/WorldObject.ts",
    "app/ts/Character/Poffin.ts",
    "app/ts/Character/TargetMemoryObject.ts",
    "app/ts/Models/Constants.ts",
    "app/ts/Models/PositionPoint.ts",
    "app/ts/NeuralComponents/Brain.ts",
    "app/ts/NeuralComponents/NeuralActions.ts",
    "app/ts/NeuralComponents/NeuralBranch.ts",
    "app/ts/NeuralComponents/NeuralReader.ts",
    "app/ts/NeuralComponents/NeuronMemory.ts",
    "app/ts/Render/Renderer.ts",
    "app/ts/Render/SpriteStorage.ts",
    "app/ts/Settings.ts",
    "app/ts/World/Func.ts",
    "app/ts/World/TextFormat.ts",
    "app/ts/World/WorldController.ts",
    "app/ts/app.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import { Renderer } from './Render/Renderer';\r\nimport { SpriteStorage } from './Render/SpriteStorage';\r\n\r\ndeclare var FontFaceObserver:any;\r\n\r\nexport class AssetLoader {\r\n  private numberLoaded:number;\r\n  private numberToLoad:number;\r\n  private _func:any;\r\n\r\n  constructor(func:any) {\r\n    this.numberLoaded = 0;\r\n    this.numberToLoad = 0;\r\n    this._func = func;\r\n  }\r\n\r\n  public load():void{\r\n    this.loadFonts();\r\n    this.loadCharacters();\r\n  }\r\n\r\n  //-----------------------\r\n\r\n  private loadComplete():void{\r\n    this.numberLoaded++;\r\n    if(this.numberLoaded == this.numberToLoad){\r\n      // Loading complete\r\n      this._func();\r\n    }\r\n  }\r\n  //-----------------------\r\n\r\n  public addRenderedTexture():void{\r\n\r\n    var wrend = Renderer.getInstance();\r\n    var spriteStorage:SpriteStorage = new SpriteStorage();\r\n\r\n    var redstripstex = PIXI.Texture.fromImage('images/redimage.png');\r\n    var sprite1 = new PIXI.Sprite(redstripstex);\r\n\r\n    var rt = PIXI.RenderTexture.create(305,20);\r\n    wrend.getRender().render(sprite1, rt);\r\n\r\n    spriteStorage.addRawTexture(\"reddot\", rt);\r\n  }\r\n\r\n   private loadFonts():void{\r\n    var font = new FontFaceObserver('Roboto Condensed', {\r\n    });\r\n\r\n    font.load().then(function () {\r\n      console.log('Font is available');\r\n    }, function () {\r\n      console.log('Font is not available');\r\n    });\r\n  }\r\n\r\n\r\n  private loadCharacters():void{\r\n    var vm = this;\r\n    var spriteStorage:SpriteStorage = new SpriteStorage();\r\n    var dragonFactory:dragonBones.PixiFactory = spriteStorage.getPixiFactory();\r\n    this.numberToLoad++;\r\n\r\n    PIXI.loader\r\n       .add(\"hero_data\",          \"images/creatures/creatures_ske.json\")\r\n       .add(\"hero_texture_data\",  \"images/creatures/creatures_tex.json\")\r\n       .add(\"hero_texture\",       \"images/creatures/creatures_tex.png\");\r\n\r\n    PIXI.loader.once(\"complete\", function (loader, object) {\r\n      var dragonData = dragonFactory.parseDragonBonesData(object[\"hero_data\"].data);\r\n      dragonFactory.parseTextureAtlasData(object[\"hero_texture_data\"].data, object[\"hero_texture\"].texture);\r\n\r\n      if (dragonData) {\r\n        spriteStorage.addSprite(\"hero_data\", dragonData);\r\n        vm.loadComplete();\r\n      }\r\n    },  this);\r\n    PIXI.loader.load();\r\n  }\r\n}\r\n",
    "import { PositionPoint } from '../Models/PositionPoint';\r\nimport { TextFormat } from '../World/TextFormat';\r\nimport { Func } from '../World/Func';\r\nimport { Brain } from '../NeuralComponents/Brain';\r\nimport { NeuralBranch } from '../NeuralComponents/NeuralBranch';\r\nimport { NeuralReader } from '../NeuralComponents/NeuralReader';\r\nimport { TargetMemoryObject } from './TargetMemoryObject';\r\nimport { IWorldObject, WorldTypes } from './Display/IWorldObject';\r\nimport { WorldController } from '../World/WorldController';\r\nimport { Poffin } from './Poffin';\r\nimport { Settings } from '../Settings';\r\nimport { LoadedDisplaySprite } from './Display/DisplayCharacter';\r\nimport { OutputAction } from \"../Models/Constants\";\r\nimport { WorldObject } from \"./Display/WorldObject\";\r\n\r\nexport class Creature extends WorldObject{\r\n  public id: number;\r\n  public type: WorldTypes;\r\n  private statTxt:PIXI.Text;\r\n\r\n  // Stats\r\n  public generation:number;\r\n  private hp:number;\r\n  private walkSpeed:number;\r\n  private runSpeed:number;\r\n\r\n  // \r\n  private memoryBank:TargetMemoryObject[];\r\n  private brain:Brain;\r\n\r\n  constructor(armature:string){\r\n    super(armature);\r\n\r\n    // Creature knows about:\r\n    this.brain = new Brain();\r\n    this.memoryBank = new Array<TargetMemoryObject>();\r\n\r\n    // Stats\r\n    this.hp = 1000;\r\n    this.generation = 1;\r\n    this.walkSpeed = 2;\r\n    this.runSpeed = 5;\r\n    this.type = WorldTypes.CREATURE;\r\n    this.id = Math.floor(Math.random() * 99999999999999);\r\n\r\n    //\r\n    this.lastPositionPoint = new PositionPoint(-1,-1,-1);\r\n    this.loadStats();\r\n  }\r\n\r\n  public init():void{\r\n    // Only run after external variables on this are set\r\n    this.move(OutputAction.STAND);\r\n  }\r\n\r\n  private loadStats():void{\r\n    var txtStyle = new TextFormat();\r\n\r\n    this.statTxt = new PIXI.Text(\"\", txtStyle);;\r\n    this.statTxt.y = 0;\r\n    this.GetSprite().addChild(this.statTxt);\r\n  }\r\n\r\n  private updateStats():void{\r\n    var text = 'Gen:'+ this.generation +'\\n';\r\n    text += 'HP:'+ this.hp +'\\n';\r\n\r\n    this.statTxt.text = text;\r\n  }\r\n\r\n  public tick():void{\r\n    this.think();\r\n    this.age();\r\n    this.updateStats();\r\n  }\r\n\r\n  private age():void{\r\n    this.hp--;\r\n    if(this.hp < 0){\r\n        this.removeWorldObject();\r\n    }\r\n  }\r\n\r\n  public getHp():number{\r\n    return this.hp;\r\n  }\r\n\r\n  public reproduce():void{\r\n    this.hp += 1000;\r\n    this.world.reproduce(this.brain, this);\r\n  }\r\n\r\n  public addParentMemories(brainToAdd:Brain):void{\r\n    this.brain.addMemories(brainToAdd.getMemories())\r\n  }\r\n\r\n  public move(action:OutputAction):void{\r\n     switch(action){\r\n          case OutputAction.LEFT:\r\n              this.x -= this.runSpeed;\r\n              this.scaleX(1);\r\n              break;\r\n          case OutputAction.RIGHT:\r\n              this.x += this.runSpeed;\r\n              this.scaleX(-1);\r\n              break;\r\n          case OutputAction.UP:\r\n              this.y -= this.runSpeed;\r\n              break;\r\n          case OutputAction.DOWN:\r\n              this.y += this.runSpeed;\r\n              break;\r\n          case OutputAction.STAND:\r\n              break;\r\n          default:\r\n              console.log(\"Invalid Action:\", action);\r\n      }\r\n\r\n\r\n      if(this.x < 0){\r\n        this.x = Settings.stageWidth;\r\n      }else if(this.x > Settings.stageWidth){\r\n        this.x = 0;\r\n      }\r\n      if(this.y < 0 ){\r\n        this.y = Settings.stageHeight;\r\n      }else if(this.y > Settings.stageHeight){\r\n        this.y = 0;\r\n      }\r\n\r\n      var currentPosition = new PositionPoint(Math.floor(this.x/Settings.gridSize), Math.floor(this.y/Settings.gridSize), -1);\r\n\r\n      if(currentPosition.x != this.lastPositionPoint.x && currentPosition.y != this.lastPositionPoint.y){\r\n        currentPosition.z = this.world.updateObjectPosition(this, currentPosition, this.lastPositionPoint);\r\n        this.lastPositionPoint = currentPosition;\r\n      }\r\n  }\r\n\r\n  private think():void {\r\n    var targetFromMemory = this.findTarget();\r\n    if(targetFromMemory == null){\r\n      return;\r\n    }\r\n    targetFromMemory.recalculate(this)\r\n    //--------\r\n    var distanceToTarget:number = targetFromMemory.newDistance;\r\n    var angleToTarget:number = targetFromMemory.angle;\r\n\r\n    var inputs = [angleToTarget, WorldTypes[targetFromMemory.targetObject.type]];\r\n\r\n    var optionsForTheseInputs = this.brain.getBranchesBasedOnInput(inputs);\r\n    // Pick option\r\n    var chosenOption = Func.Sample(optionsForTheseInputs);\r\n\r\n    NeuralReader.CarryOutAction(this, chosenOption, inputs, this.brain);\r\n\r\n    targetFromMemory.expireOldCalculations();\r\n  }\r\n\r\n  private findTarget():TargetMemoryObject{\r\n    var objs = this.world.getNearbyWorldObjects(this, this.lastPositionPoint) as IWorldObject[];\r\n   \r\n    var randomSelectedObject = Func.Sample(objs);\r\n    if(randomSelectedObject.id == this.id){\r\n      // Tries to always get something other than itself.. only last option is itself\r\n      objs.forEach(x => {\r\n        if(x.id != this.id){\r\n          randomSelectedObject = x;\r\n          return;\r\n        }\r\n      })\r\n    }\r\n      \r\n    // retrieve item from memoryBank\r\n    var memory:TargetMemoryObject;\r\n    this.memoryBank.forEach(mem => {\r\n      if(mem.targetObject.id == randomSelectedObject.id){\r\n        memory = mem;\r\n        return;\r\n      }\r\n    });\r\n\r\n    if(memory == null){\r\n      memory = new TargetMemoryObject(randomSelectedObject);\r\n    }\r\n    return memory;\r\n  }\r\n}\r\n",
    "import { Brain } from '../NeuralComponents/Brain';\r\nexport class CreatureStats{\r\n    public HP:number;\r\n\r\n    constructor(){\r\n        this.HP = 0;\r\n    }\r\n}",
    "import { SpriteStorage } from '../../Render/SpriteStorage';\nimport { Renderer } from '../../Render/Renderer';\n\nexport class LoadedDisplaySprite{\n  private _x:number;\n  private _y:number;\n  private _z:number;\n\n  private _wrender:Renderer;\n  private _sprite:PIXI.Sprite;\n  private _characterSprite:dragonBones.PixiArmatureDisplay;\n\n  private spriteStorage:SpriteStorage;\n  private dragonFactory:dragonBones.PixiFactory;\n\n  private scaleSize:number;\n  private currentAnimation:string;\n  public markAsDeleted:boolean;\n\n\n  constructor(armature:string) {\n    this.spriteStorage = new SpriteStorage();\n    this.dragonFactory = this.spriteStorage.getPixiFactory();\n    this.scaleSize = 0.4;\n    this.markAsDeleted = false;\n\n    var char = this.spriteStorage.getSpriteData(\"hero_data\");\n    if(char != null){\n      this.addCharacter(armature);\n    }\n  }\n\n  private addCharacter(armature:string):void{\n    var armatureDisplay:dragonBones.PixiArmatureDisplay = this.dragonFactory.buildArmatureDisplay(armature);\n    this._characterSprite = armatureDisplay;\n    \n    this._sprite = new PIXI.Sprite();\n    this._sprite.addChild(this._characterSprite);\n\n    this.scaleX(1);\n    this.Animate(\"stand\");\n  }\n\n  public GetSprite ():PIXI.Sprite{\n      return this._sprite;\n  }\n\n  public scaleX(num:number):void{\n    this._characterSprite.scale.x = this.scaleSize * num;\n    this._characterSprite.scale.y = this.scaleSize;\n  }\n\n  public resize(num:number):void{\n    this.scaleSize = num;\n    this.scaleX(1);\n  }\n\n public Animate(animationName:string):void{\n    if(this.currentAnimation != animationName){\n      this.currentAnimation = animationName;\n      this._characterSprite.animation.play(animationName);\n    }\n  }\n  //\n  get x():number {\n     return this._x;\n  }\n  set x(xx:number) {\n     this._x = xx;\n    this._sprite.x = this._x;\n  }\n  //\n  get y():number {\n     return this._y;\n  }\n  set y(yy:number) {\n     this._y = yy;\n     this._sprite.y = this._y;\n  }\n\n  //\n  get z():number {\n     return this._z;\n  }\n  set z(zz:number) {\n     this._z = zz;\n  }\n  //\n\n  public tick():void{\n  }\n}\n",
    "import { WorldController } from '../../World/WorldController';\nimport { SpriteStorage } from '../../Render/SpriteStorage';\nimport { Renderer } from '../../Render/Renderer';\n\nexport interface IWorldObject{\n  id:number;\n  type:WorldTypes;\n  x:number;\n  y:number;\n  world:WorldController;\n  markAsDeleted:boolean;\n\n  tick();\n}\n\nexport enum WorldTypes{\n  CREATURE ,\n  FOOD \n}",
    "import { PositionPoint } from '../../Models/PositionPoint';\r\nimport { WorldController } from '../../World/WorldController';\r\nimport { LoadedDisplaySprite } from './DisplayCharacter';\r\nimport { IWorldObject, WorldTypes } from './IWorldObject';\r\nexport class WorldObject extends LoadedDisplaySprite implements IWorldObject {\r\n    public id: number;\r\n    public type: WorldTypes;\r\n    public markAsDeleted:boolean;\r\n\r\n    public world:WorldController;\r\n    protected lastPositionPoint:PositionPoint;\r\n\r\n\r\n    constructor(armature:string){\r\n        super(armature);\r\n\r\n        this.world = WorldController.getInstance();\r\n        this.markAsDeleted = false;\r\n    }\r\n\r\n    public removeWorldObject():void{\r\n        this.markAsDeleted = true;\r\n        this.world.removeWorldObject(this, this.lastPositionPoint);\r\n    }\r\n}",
    "import { WorldController } from '../World/WorldController';\r\nimport { PositionPoint } from '../Models/PositionPoint';\r\nimport { IWorldObject, WorldTypes } from './Display/IWorldObject';\r\nimport { Settings } from '../Settings';\r\nimport { LoadedDisplaySprite } from './Display/DisplayCharacter';\r\nimport { WorldObject } from \"./Display/WorldObject\";\r\nexport class Poffin extends WorldObject{\r\n  public type: number;\r\n  public id: number;\r\n\r\n  private hp:number;\r\n\r\n  constructor(){\r\n    super(\"Poffin\");\r\n\r\n\r\n    this.type = WorldTypes.FOOD;\r\n    this.id = Math.floor(Math.random() * 99999999999999);\r\n  }\r\n\r\n  public init():void{\r\n    this.lastPositionPoint = new PositionPoint(\r\n                                Math.floor(this.x/Settings.gridSize),\r\n                                Math.floor(this.y/Settings.gridSize), -1);\r\n    this.lastPositionPoint.z = this.world.updateObjectPosition(this, this.lastPositionPoint, new PositionPoint(-1,-1,-1));\r\n  }\r\n}\r\n",
    "import { IWorldObject, WorldTypes } from './Display/IWorldObject';\r\nexport class TargetMemoryObject{\r\n    public id:number;\r\n    public targetObject:IWorldObject;\r\n\r\n    public oldDisX:number;\r\n    public oldDisY:number;\r\n    public oldDistance:number;\r\n\r\n    public newDisX:number;\r\n    public newDisY:number;\r\n    public newDistance:number;\r\n    public angle:number; // (from brainobject's perspective)\r\n\r\n\r\n\r\n    constructor(worldObj:IWorldObject){\r\n        this.id = worldObj.id;\r\n        this.targetObject = worldObj;\r\n    }\r\n\r\n    expireOldCalculations():void{\r\n         this.oldDisX = this.newDisX;\r\n         this.oldDisY = this.newDisY;\r\n         this.oldDistance = this.newDistance;\r\n    }\r\n\r\n    recalculate(creature:IWorldObject):void{\r\n        this.newDisX = Math.abs(this.targetObject.x - creature.x);\r\n        this.newDisY = Math.abs(this.targetObject.y - creature.y);\r\n        this.newDistance = Math.sqrt(this.newDisX*this.newDisX + this.newDisY*this.newDisY);\r\n    \r\n\r\n        //calculate angle\r\n        if(creature.x < this.targetObject.x && creature.y < this.targetObject.y){\r\n            // Left Top quadrant\r\n            this.angle = 270 + this.radiansToDegrees(Math.atan(this.newDisY / this.newDisX));\r\n        }\r\n\r\n        if(creature.x > this.targetObject.x && creature.y < this.targetObject.y){\r\n            // Right Top quadrant\r\n            this.angle = 90 -this.radiansToDegrees(Math.atan(this.newDisY / this.newDisX));\r\n        }\r\n\r\n        if(creature.x < this.targetObject.x && creature.y > this.targetObject.y){\r\n            // Left Down quadrant\r\n            this.angle = 270 - this.radiansToDegrees(Math.atan(this.newDisY / this.newDisX));\r\n        }\r\n\r\n        if(creature.x > this.targetObject.x && creature.y > this.targetObject.y){\r\n            // Right Down quadrant\r\n            this.angle = 90 + this.radiansToDegrees(Math.atan(this.newDisY / this.newDisX));\r\n        }\r\n\r\n        if(this.newDisX == 0){\r\n            if(creature.y > this.targetObject.y){\r\n                // Char below memory object\r\n                this.angle = 0;\r\n            }else {\r\n                this.angle = 180;\r\n            }\r\n        }  if(this.newDisY == 0){\r\n            if(creature.x > this.targetObject.x){\r\n                // Char right of memory object\r\n                this.angle = 270;\r\n            }else {\r\n                this.angle = 90;\r\n            }\r\n        }\r\n\r\n        var baseSliceAngle = 36;\r\n\r\n\r\n        this.angle = Math.floor(this.angle  / baseSliceAngle) * baseSliceAngle;\r\n\r\n        //console.log(this.angle, creature.y, this.targetObject.y, WorldTypes[this.targetObject.type], creature.id);\r\n        \r\n    }\r\n\r\n    radiansToDegrees(radians:number){\r\n        return radians * 180 / Math.PI;\r\n    }\r\n\r\n    \r\n}",
    "export enum OutputAction{\r\n    LEFT,\r\n    RIGHT,\r\n    UP,\r\n    DOWN,\r\n    STAND\r\n}",
    "export class PositionPoint{\r\n    public x:number;\r\n    public y:number;\r\n    public z:number;\r\n\r\n    constructor(_x:number, _y:number, _z:number){\r\n        this.x = _x;\r\n        this.y = _y;\r\n        this.z = _z;\r\n    }\r\n}",
    "import { Func } from '../World/Func';\r\nimport { NeuralBranch } from './NeuralBranch';\r\nimport { NeuronMemory } from \"./NeuronMemory\";\r\nimport { OutputAction } from \"../Models/Constants\";\r\nexport class Brain{\r\n    private memory:Array<NeuronMemory>;\r\n    private greyMatter:Array<NeuralBranch>;\r\n    private usedInputVNeuralBranch:Array<Array<boolean>>;\r\n\r\n    constructor(){\r\n        this.memory = new Array<NeuronMemory>();\r\n        this.greyMatter = new Array<NeuralBranch>();\r\n        this.usedInputVNeuralBranch = new Array<Array<boolean>>();\r\n\r\n        var availableActions = [OutputAction.LEFT, OutputAction.RIGHT, OutputAction.UP, OutputAction.DOWN,OutputAction.STAND];\r\n\r\n        for(var i=0; i < 20; i++){\r\n            var n = new NeuralBranch();\r\n            n.generate(availableActions);\r\n            this.greyMatter.push(n);\r\n        }\r\n    }\r\n\r\n    public getBranchesBasedOnInput(inputs:Array<any>):Array<NeuronMemory>{\r\n        var res = new Array<NeuronMemory>();\r\n\r\n        var inputsStr = inputs.join(\"-\");\r\n\r\n        if(this.usedInputVNeuralBranch[inputsStr] == null){\r\n            //console.log(\"inputs:\", inputsStr);\r\n            this.usedInputVNeuralBranch[inputsStr] = [];\r\n        }\r\n        \r\n        this.memory.forEach(neuron => {\r\n            if(neuron.hasInputs(inputs)){\r\n                res.push(neuron);\r\n                this.usedInputVNeuralBranch[inputsStr][neuron.neuralBranch.id] = true;\r\n            }\r\n        });\r\n\r\n        res = res.concat(this.getSomeUnknownOptions(inputs, inputsStr));\r\n        //res = res.sort((n1,n2) => n1.numberOfTimesUsed - n2.numberOfTimesUsed);\r\n        return res;\r\n    }\r\n\r\n    private getSomeUnknownOptions(inputs:Array<any>, inputsStr:string):Array<NeuronMemory>{\r\n        var maxOptions = 10;\r\n        var res = new Array<NeuronMemory>();\r\n        \r\n        for(var i=0; i< maxOptions; i++){\r\n            var neuralOption = Func.Sample(this.greyMatter);\r\n\r\n            if(this.usedInputVNeuralBranch[inputsStr][neuralOption.id]){\r\n                continue;\r\n            }\r\n\r\n            var n = new NeuronMemory(inputs);\r\n            n.neuralBranch = neuralOption;\r\n            n.numberOfTimesUsed = 0;\r\n\r\n            res.push(n);\r\n        }\r\n\r\n        return res;        \r\n    }\r\n\r\n    public remember(neu:NeuronMemory):void{\r\n        if(neu.numberOfTimesUsed == 1){\r\n            // First time used, so add to memory\r\n            this.memory.push(neu); \r\n        }\r\n    }\r\n\r\n    public AddOptions(grey:Array<NeuralBranch>):void{\r\n        this.greyMatter = this.greyMatter.concat(grey);\r\n    }\r\n     public addMemories(mem:Array<NeuronMemory>):void{\r\n        this.memory = this.memory.concat(mem);\r\n    }\r\n\r\n    public getOptions():Array<NeuralBranch>{\r\n        return this.greyMatter;\r\n    }\r\n\r\n    public getMemories():Array<NeuronMemory>{\r\n        return this.memory;\r\n    }\r\n}",
    "import { Func } from '../World/Func';\r\nexport class NeuralActions{\r\n    public action:ActionTypes;\r\n    public valToCompare:any;\r\n    constructor(act:ActionTypes, val?:any){\r\n        this.action = act;\r\n        this.valToCompare = val;\r\n    }\r\n\r\n    static getComparator():ActionTypes{\r\n        var conjuctions = [ActionTypes.LESS_THAN, ActionTypes.GREATER_THAN, ActionTypes.EQUAL_TO]\r\n        return Func.Sample(conjuctions);\r\n    }\r\n}\r\n\r\n\r\nexport enum ActionTypes{\r\n    INPUT,\r\n    COMPARED_TO_VAL,\r\n    DO_ACTION,\r\n\r\n    // Comparators\r\n    LESS_THAN,\r\n    GREATER_THAN,\r\n    EQUAL_TO,\r\n\r\n    //Conjuction\r\n    AND,\r\n    OR\r\n}",
    "import { Func } from '../World/Func';\r\nimport { ActionTypes, NeuralActions } from './NeuralActions';\r\nexport class NeuralBranch{\r\n    public id:number;\r\n\r\n    public actions:NeuralActions[];\r\n    constructor(){\r\n        this.id = Math.floor(Math.random() * 99999999999999);\r\n\r\n        this.actions = new Array<NeuralActions>();\r\n    }\r\n    generate(availableActions){\r\n        var vals = [36,72,108,144,180,216,252,288,324,360];\r\n\r\n        this.actions.push(new NeuralActions(ActionTypes.INPUT));\r\n        this.actions.push(new NeuralActions(NeuralActions.getComparator()));\r\n        this.actions.push(new NeuralActions(ActionTypes.COMPARED_TO_VAL, Func.Sample(vals)));\r\n        this.actions.push(new NeuralActions(ActionTypes.DO_ACTION, Func.Sample(availableActions)));\r\n    }\r\n}",
    "import { Brain } from './Brain';\r\nimport { ActionTypes, NeuralActions } from './NeuralActions';\r\nimport { Creature } from '../Character/Creature';\r\nimport { NeuronMemory } from \"./NeuronMemory\";\r\nexport class NeuralReader{\r\n    public static CarryOutAction(cre:Creature, chosenOption:NeuronMemory, inputs:Array<any>, brain:Brain):void{\r\n\r\n        var res = \"\";\r\n        chosenOption.neuralBranch.actions.forEach(action => {\r\n            switch(action.action){\r\n                case ActionTypes.INPUT:\r\n                    res += inputs[0];\r\n                    break;\r\n                case ActionTypes.COMPARED_TO_VAL:\r\n                    res += action.valToCompare;\r\n                    break;\r\n                case ActionTypes.DO_ACTION:\r\n                    try{\r\n                        var r = eval(res);\r\n                        if(r){\r\n                            cre.move(action.valToCompare);\r\n                        }\r\n                    }catch(e){\r\n                        console.log(\"Invalid Eval\", res, e);\r\n                    }\r\n                    \r\n                    break;\r\n                case ActionTypes.LESS_THAN:\r\n                    res += \"<\";\r\n                    break;\r\n                case ActionTypes.GREATER_THAN:\r\n                    res += \">\";\r\n                    break;\r\n                case ActionTypes.EQUAL_TO:\r\n                    res += \"==\";\r\n                    break;\r\n            }\r\n        });\r\n\r\n\r\n        chosenOption.numberOfTimesUsed++;\r\n        brain.remember(chosenOption);\r\n    }\r\n}",
    "import { NeuralBranch } from './NeuralBranch';\r\nexport class NeuronMemory{\r\n    public inputs:any[];\r\n    public numberOfTimesUsed:number;\r\n    public neuralBranch:NeuralBranch;\r\n\r\n    constructor(inputs:any[]){\r\n        this.inputs = [];\r\n        inputs.forEach(input => {\r\n            this.inputs[input] = true;\r\n        });\r\n    }\r\n\r\n    public hasInputs(inputsQuery:Array<any>):boolean{\r\n        var r = true;\r\n    \r\n        inputsQuery.forEach(query=>{\r\n            if(this.inputs[query] == null){\r\n                r = false;\r\n                return;\r\n            }\r\n        });\r\n    \r\n        return r;\r\n    }\r\n}",
    "import { WorldController } from '../World/WorldController';\r\nimport { Settings } from '../Settings';\r\nimport { LoadedDisplaySprite } from '../Character/Display/DisplayCharacter';\r\n\r\ndeclare var FPSMeter:any;\r\n\r\nexport class Renderer {\r\n  private static _singleton:Renderer;\r\n  private _stage:PIXI.Container;\r\n  private _renderer;\r\n  private worldController:WorldController;\r\n  private fpsmeter:any;\r\n\r\n  public static getInstance():Renderer{\r\n    if(this._singleton == null){\r\n      this._singleton = new Renderer();\r\n    }\r\n    return this._singleton;\r\n  }\r\n\r\n  public getRender():any{\r\n    return this._renderer;\r\n  }\r\n\r\n  constructor() {\r\n    // Variable Initialization\r\n    this._stage = new PIXI.Container();\r\n    this._stage.hitArea = new PIXI.Rectangle(0, 0, Settings.stageWidth, Settings.stageHeight);\r\n    this._renderer = PIXI.autoDetectRenderer(Settings.stageWidth, Settings.stageHeight, {\r\n        backgroundColor: 0x65C25D,\r\n        antialias: true\r\n    });\r\n\r\n    // Add FPS Meter\r\n    this.fpsmeter = new FPSMeter();\r\n    \r\n    // Add PIXI container to the HTML page\r\n    document.body.appendChild(this._renderer.view);\r\n\r\n    // Set references\r\n    this.worldController = WorldController.getInstance();\r\n\r\n    // Game Ticker\r\n    requestAnimationFrame(this.RefreshDisplay);\r\n  }\r\n\r\n  public RefreshDisplay = () :void => {\r\n      this.worldController.tickTock();\r\n\r\n      this._renderer.render(this._stage); // render the stage\r\n      this.fpsmeter.tick();               // fps ticker\r\n\r\n      requestAnimationFrame(this.RefreshDisplay);\r\n  }\r\n\r\n\r\n  public AddAnySprite(char:any):void{\r\n    this._stage.addChild(char);\r\n  }\r\n\r\n}\r\n",
    "import { Renderer } from './Renderer';\r\nexport class SpriteStorage {\r\n\r\n  private static _singleton:SpriteStorage;\r\n  \r\n  private _store:dragonBones.DragonBonesData[];\r\n  public _textureStore:PIXI.Sprite[];\r\n\r\n  private _renderReadyTextureStore:PIXI.RenderTexture[]\r\n  private _renderReadySpriteStore:PIXI.Sprite[]\r\n\r\n  private _pixiFactory:dragonBones.PixiFactory;\r\n  private num:Number;\r\n\r\n  constructor() {\r\n    if (!SpriteStorage._singleton) {\r\n          SpriteStorage._singleton = this;\r\n          this.init();\r\n    }\r\n    return SpriteStorage._singleton;\r\n  }\r\n\r\n  private init():void{\r\n    this._store = [];\r\n    this._textureStore = [];\r\n    this._renderReadyTextureStore = [];\r\n    this._renderReadySpriteStore = [];\r\n    \r\n    this.num = Math.random();\r\n  }\r\n\r\n  public getPixiFactory(): dragonBones.PixiFactory {\r\n    if(this._pixiFactory == null){\r\n      this._pixiFactory = new dragonBones.PixiFactory();\r\n    }\r\n    return this._pixiFactory;\r\n  }\r\n\r\n  //-----------------------\r\n  public addSprite(spriteName:string, dragonData:dragonBones.DragonBonesData):void {\r\n    this._store[spriteName] = dragonData;\r\n  }\r\n\r\n  public getSpriteData(spriteName:string):dragonBones.DragonBonesData{\r\n    return this._store[spriteName];\r\n  }\r\n\r\n  //-----------------------\r\n  public addRawTexture(textName:string, texture:PIXI.RenderTexture):void{\r\n      var sp = new PIXI.Sprite(texture);\r\n      this._textureStore[textName] = sp;\r\n  }\r\n\r\n\r\n\r\n\r\n  public getSprite(textureName:string):PIXI.Sprite{\r\n    return this._textureStore[textureName]; //returns clothing sprite\r\n  }\r\n\r\n\r\n\r\n  //-----------------------\r\n}",
    "export class Settings {\r\n    public static stageWidth:number;\r\n    public static stageHeight:number;\r\n    public static aspectRatio:number;\r\n    public static gridSize:number;\r\n\r\n\r\n    public static initialize():void{\r\n        Settings.stageWidth     = window.innerWidth;\r\n        Settings.stageHeight    = window.innerHeight;\r\n        Settings.aspectRatio    = 16/9;\r\n        Settings.gridSize       = 500; \r\n\r\n\r\n        console.log(\"==== Initializing Settings\")\r\n    }\r\n}\r\n",
    "import { IWorldObject } from '../Character/Display/IWorldObject';\r\nexport class Func{\r\n    public static Sample<T> (array:Array<T>):T {\r\n        return array[Math.floor(Math.random()*array.length)];\r\n    }\r\n\r\n    public static RemoveItem<T>(array:Array<T>, item:T):void{\r\n        var index = array.indexOf(item, 0);\r\n        if (index > -1) {\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    public static RemoveWorldObject(array:Array<IWorldObject>, item:IWorldObject):void{\r\n        var index = Func.GetIdIndex(array, item.id);\r\n        if (index > -1) {\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n\r\n\r\n    public static GetIdIndex(array:Array<IWorldObject>, item:number):number{\r\n        var res = -1;\r\n        array.forEach((x, i) => {\r\n            if(x.id == item){\r\n                res = i;\r\n                return;\r\n            }\r\n        })\r\n        return res;\r\n    }\r\n}",
    "export class TextFormat extends PIXI.TextStyle{\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        //this.fontFamily = \"Roboto Condensed\";//\"Roboto\";\r\n        this.fontSize = 15;\r\n        this.wordWrap = true;\r\n\r\n    }\r\n}",
    "import { WorldObject } from '../Character/Display/WorldObject';\r\nimport { PositionPoint } from '../Models/PositionPoint';\r\nimport { IWorldObject } from '../Character/Display/IWorldObject';\r\nimport { CreatureStats } from '../Character/CreatureStats';\r\nimport { TextFormat } from './TextFormat';\r\nimport { Brain } from '../NeuralComponents/Brain';\r\nimport { Func } from './Func';\r\nimport { Settings } from '../Settings';\r\nimport { Poffin } from '../Character/Poffin';\r\nimport { Creature } from '../Character/Creature';\r\nimport { LoadedDisplaySprite } from '../Character/Display/DisplayCharacter';\r\nexport class WorldController{\r\n    \r\n    static _singleton:WorldController;\r\n    private stage:PIXI.Sprite;\r\n    private displayList:WorldObject[];\r\n    private quadGridDisplayList:Array<Array<Array<IWorldObject>>>;\r\n    private foodList:Poffin[];\r\n    private creatureList:Creature[];\r\n\r\n    private spawnAmount:number = 5;\r\n    private spawnTimerMax:number = 1000;\r\n    private spawnTimer:number = 1000;\r\n    private worldBillBoard:PIXI.Text;\r\n    private bestCreature:Creature;\r\n    private bestStats:CreatureStats;\r\n\r\n    private overworldNumObjects:number;\r\n\r\n    constructor(){\r\n        this.stage = new PIXI.Sprite();\r\n\r\n        this.quadGridDisplayList = new Array<Array<Array<IWorldObject>>>();\r\n        this.displayList = [];\r\n        this.foodList = [];\r\n        this.creatureList = [];\r\n\r\n        this.addInformation();\r\n        this.bestStats = new CreatureStats();\r\n        this.clickHandlers();\r\n        this.overworldNumObjects = 0;\r\n    }\r\n    public static getInstance():WorldController{\r\n        if(this._singleton == null){\r\n        this._singleton = new WorldController();\r\n        }\r\n        return this._singleton;\r\n    }\r\n\r\n    public getDisplaySprite():PIXI.Sprite{\r\n        return this.stage;\r\n    }\r\n\r\n    private clickHandlers():void{\r\n        var vm = this;\r\n        document.body.addEventListener('click', function(event:any){\r\n            if(event.path[0].tagName == \"CANVAS\"){\r\n                // Only clicks that hit the canvas directly will be let through\r\n                var usedClick = false;\r\n                vm.displayList.forEach(element => {\r\n                    if((element as any).GetSprite().getBounds().contains(event.x, event.y)){\r\n                        usedClick = true;\r\n                        return;\r\n                    }    \r\n                });\r\n\r\n                if(!usedClick){\r\n                    var food = vm.addFood();\r\n                    food.x = Settings.stageWidth / 2;\r\n                    food.y = Settings.stageHeight / 2;\r\n                }\r\n                //\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n     public tickTock():void{\r\n        // Sort Z-Index\r\n        this.stage.children.sort(function(obj1, obj2) {\r\n            return obj1.position.y - obj2.position.y;\r\n        });\r\n\r\n        // Run all Objects\r\n        for( var char of this.displayList){\r\n            char.tick();\r\n        }\r\n\r\n        // Is food Eaten\r\n        for( let food of this.foodList){\r\n            if(food.markAsDeleted){\r\n                continue;\r\n            }\r\n            this.creatureList.forEach(cre=>{\r\n                if(Math.abs(cre.x - food.x) < 20){\r\n                    if(Math.abs(cre.y - food.y) < 20){\r\n                        if(food.markAsDeleted){\r\n                            return;\r\n                        }\r\n                        cre.reproduce();\r\n                        food.removeWorldObject();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        var tempDisplayList = this.displayList.slice(0);\r\n        for( var disobj of tempDisplayList){\r\n            if(disobj.markAsDeleted){\r\n                this.stage.removeChild(disobj.GetSprite());\r\n\r\n                Func.RemoveWorldObject(this.displayList, disobj);\r\n                Func.RemoveWorldObject(this.creatureList, disobj);\r\n                Func.RemoveWorldObject(this.foodList, disobj);\r\n            }\r\n        }\r\n\r\n        // Run world clock\r\n        this.spawnTimer--;\r\n        if(this.spawnTimer <= 0){\r\n            this.spawnTimer = this.spawnTimerMax;\r\n            this.spawn();\r\n        }\r\n\r\n        // worldBillBoard\r\n        this.updateWorldBillBoard();\r\n    }\r\n\r\n    private addInformation():void{\r\n        var normStyle = new TextFormat();\r\n\r\n        this.worldBillBoard = new PIXI.Text(\"\", normStyle);\r\n        this.worldBillBoard.x = 20;\r\n        this.worldBillBoard.y = 20;\r\n        //this.worldBillBoard.height = 200;\r\n\r\n        this.stage.addChild(this.worldBillBoard);\r\n    }\r\n    private updateWorldBillBoard():void{\r\n        var txt = \"Best HP: \"+ this.bestStats.HP;\r\n        this.worldBillBoard.text = txt;\r\n    }\r\n\r\n    public trackCreature(cre:Creature):void{\r\n        if(this.bestCreature == null){\r\n            this.bestCreature = cre;\r\n            \r\n        }\r\n\r\n        if(cre.getHp() > this.bestStats.HP){\r\n            this.bestCreature = cre;\r\n            this.bestStats.HP = cre.getHp();\r\n        }\r\n    }\r\n\r\n    public spawn():void{\r\n        for(var i=0; i< this.spawnAmount; i++){\r\n            //this.addFood();\r\n            \r\n\r\n            this.addCreature();\r\n\r\n        }\r\n\r\n         var food = this.addFood();\r\n        food.x = Settings.stageWidth / 2;\r\n        food.y = Settings.stageHeight / 2;\r\n        food.init();\r\n    }\r\n\r\n    public reproduce(brain:Brain, parent:Creature):void{\r\n        var child = this.addCreature();\r\n        child.addParentMemories(brain);\r\n        child.resize(0.3);\r\n        child.generation = parent.generation + 1;\r\n        child.x = parent.x + 20;\r\n\r\n        this.trackCreature(parent);\r\n    }\r\n\r\n    public AddGameChild(char:WorldObject):void{\r\n        this.stage.addChild(char.GetSprite());\r\n        this.displayList.push(char);\r\n    }\r\n\r\n    private addCreature():Creature{\r\n        var pika = new Creature(\"PikaCreature\");\r\n        pika.x = Settings.stageWidth * Math.random();\r\n        pika.y = Settings.stageHeight * Math.random();\r\n        pika.init();\r\n        this.AddGameChild(pika);\r\n        this.creatureList.push(pika);\r\n\r\n        return pika;\r\n    }\r\n\r\n    private addFood():Poffin{\r\n        var food = new Poffin();\r\n        food.x = Settings.stageWidth * Math.random();\r\n        food.y = Settings.stageHeight * Math.random();\r\n        food.init();\r\n        this.AddGameChild(food);\r\n        this.foodList.push(food);\r\n\r\n        return food;\r\n    }\r\n\r\n    public getNearbyWorldObjects(currentCreature:IWorldObject, currentPoint:PositionPoint):any[]{\r\n        var nearbyObjects:Array<IWorldObject> = new Array<IWorldObject>();\r\n\r\n        for(var o:number=-1;o<2; o++){\r\n            for(var i:number=-1;i<2; i++){\r\n                if(this.quadGridDisplayList[this.minXGrid(currentPoint.x+i)])\r\n                {\r\n                    if(this.quadGridDisplayList[this.minXGrid(currentPoint.x+i)][this.minYGrid(currentPoint.y+o)]){\r\n                        nearbyObjects = nearbyObjects.concat( this.quadGridDisplayList[this.minXGrid(currentPoint.x+i)][this.minYGrid(currentPoint.y+o)] );\r\n                    }\r\n                }\r\n            }\r\n        }        \r\n        return nearbyObjects;\r\n    }\r\n\r\n    private minXGrid(n:number):number{\r\n        if(n < 0){\r\n            n = 0;\r\n        }else if(n > Math.floor(Settings.stageWidth/Settings.gridSize)){\r\n            n = Math.floor(Settings.stageWidth/Settings.gridSize);\r\n        }\r\n        return n;\r\n    }\r\n\r\n    private minYGrid(n:number):number{\r\n        if(n < 0){\r\n            n = 0;\r\n        }else if(n > Math.floor(Settings.stageHeight/Settings.gridSize)){\r\n            n = Math.floor(Settings.stageHeight/Settings.gridSize);\r\n        }\r\n        return n;\r\n    }\r\n\r\n    public removeWorldObject(currentObject:IWorldObject, lastPoint:PositionPoint):void{\r\n        if(lastPoint.x > -1){\r\n            var newIndex = Func.GetIdIndex(this.quadGridDisplayList[lastPoint.x][lastPoint.y], currentObject.id);\r\n            this.quadGridDisplayList[lastPoint.x][lastPoint.y].splice(newIndex, 1);\r\n        }\r\n    } \r\n\r\n    public updateObjectPosition(currentObject:IWorldObject, currentPoint:PositionPoint, lastPoint:PositionPoint):number{\r\n        this.removeWorldObject(currentObject, lastPoint);\r\n        \r\n        // Create Arrays if empty\r\n        if(this.quadGridDisplayList[currentPoint.x] == null){\r\n            this.quadGridDisplayList[currentPoint.x] = [];\r\n        }\r\n        if(this.quadGridDisplayList[currentPoint.x][currentPoint.y] == null){\r\n            this.quadGridDisplayList[currentPoint.x][currentPoint.y] = [];\r\n        }\r\n\r\n        // Push creature to list\r\n        this.quadGridDisplayList[currentPoint.x][currentPoint.y].push(currentObject);\r\n        return this.quadGridDisplayList[currentPoint.x][currentPoint.y].length - 1;\r\n    }\r\n}",
    "import { Settings } from './Settings';\r\nimport { WorldController } from './World/WorldController';\r\nimport { AssetLoader } from './AssetLoader';\r\nimport { Renderer } from './Render/Renderer';\r\n\r\nclass RPG {\r\n\r\n  private rendererController:Renderer;\r\n  private worldController:WorldController;\r\n  \r\n  /*\r\n  -------------------------------------------\r\n  ----------  TO DO LIST --------------------\r\n  -------------------------------------------\r\n  - Get different facial expressions shown\r\n  - Tiling system\r\n  - Camera system\r\n\r\n  -------------------------------------------\r\n  ----------  Notes -------------------------\r\n  -------------------------------------------\r\n  - 32 bit / 360 dpi\r\n  */\r\n\r\n  constructor() {\r\n    console.log(\"%c========== Game Start ==========\",\"background: #222; color: #bada55;\");\r\n    var loader:AssetLoader = new AssetLoader(this.loadEngine);\r\n    loader.load();\r\n  }\r\n\r\n  private loadEngine ():void{\r\n    // Note: 'this' here is in the context of AssetLoader still\r\n    Settings.initialize();\r\n    this.rendererController = Renderer.getInstance();\r\n    this.worldController    = WorldController.getInstance();\r\n\r\n    this.worldController.spawn();\r\n    this.rendererController.AddAnySprite(this.worldController.getDisplaySprite());\r\n  }\r\n}\r\n\r\n// Game Start ----------\r\nnew RPG();\r\n//----------------------\r\n"
  ]
}